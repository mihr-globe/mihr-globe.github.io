<!DOCTYPE html>
<html lang="en">
  <head>
    <title>mihr</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="stylesheet" href="demo-styles.css" />
    <script src="font.json"></script>
    <script src="https://unpkg.com/three@0.145.0"></script>
    <script src="https://unpkg.com/three@0.145.0/examples/js/controls/TrackballControls.js"></script>
    <script src="https://unpkg.com/three@0.145.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://unpkg.com/three@0.145.0/examples/js/loaders/FontLoader.js"></script>
    <script src="https://unpkg.com/three-globe@2.24.13"></script>
  </head>
  
  <body>
      <div id="globeViz"></div>
      <script>
        const loader = new THREE.FontLoader();
        const font = loader.load(
          // resource URL
          'font.json',

          // onLoad callback
          function ( font ) {
            // do something with the font
            console.log( font );
              const locations = [
                {
                  lat: 0,
                  lng: 0,
                  size: 1,
                  dotradius: 0.2,
                  color: '#000000',
                  text: '0,0',
                  rotation: '0'
                },
                {
                  lat: 10,
                  lng: 15,
                  size: 1,
                  dotradius: 0.2,
                  color: '#000000',
                  text: '10,15',
                  rotation: '0'
                },
                {
                  lat: 24,
                  lng: 46.5,
                  size: 1.5,
                  dotradius: 0.5,
                  color: '#D8D0C1',
                  text: 'Koslaborg',
                  rotation: '0'
                },
                {
                  lat: 65,
                  lng: 49,
                  size: 1.5,
                  dotradius: 0.5,
                  color: '#D8D0C1',
                  text: 'Elishny',
                  rotation: '0'
                },
                {
                  lat: 12,
                  lng: -31.5,
                  size: 1,
                  dotradius: 0.5,
                  color: '#D8D0C1',
                  text: 'Zudora',
                  rotation: '0'
                },
                {
                  lat: 0,
                  lng: -20.5,
                  size: 1.5,
                  dotradius: 0.5,
                  color: '#D8D0C1',
                  text: 'Aekeebo',
                  rotation: '0'
                },
                {
                  lat: 15,
                  lng: -102,
                  size: 1.5,
                  dotradius: 0.5,
                  color: '#D8D0C1',
                  text: 'Truanard',
                  rotation: '0'
                },
                {
                  lat: -3.5,
                  lng: 51,
                  size: 1.5,
                  dotradius: 0.5,
                  color: '#D8D0C1',
                  text: 'Sistrilia',
                  rotation: '0'
                },
                {
                  lat: 35,
                  lng: -110,
                  size: 1.5,
                  dotradius: 0.5,
                  color: '#D8D0C1',
                  text: 'Sillenor',
                  rotation: '0'
                },
                {
                  lat: 8,
                  lng: -78.5,
                  size: 1.3,
                  dotradius: 0.5,
                  color: '#D8D0C1',
                  text: 'Tethys',
                  rotation: '0'
                },
                {
                  lat: 12,
                  lng: 94,
                  size: 1.5,
                  dotradius: 0.5,
                  color: '#D8D0C1',
                  text: 'Tvelsk',
                  rotation: '0'
                },
                {
                  lat: 8,
                  lng: 45,
                  size: 1,
                  dotradius: 0.2,
                  color: '#D8D0C1',
                  text: 'Hazelvale',
                  rotation: '0'
                },
                {
                  lat: 39,
                  lng: 18,
                  size: 1,
                  dotradius: 0.2,
                  color: '#D8D0C1',
                  text: 'The Verge',
                  rotation: '0'
                },
                {
                  lat: 28,
                  lng: 13.5,
                  size: 1,
                  dotradius: 0.2,
                  color: '#D8D0C1',
                  text: 'Milogost',
                  rotation: '0'
                },
                {
                  lat: 0,
                  lng: -165,
                  size: 1.5,
                  dotradius: 0,
                  color: '#E9ECF5',
                  text: 'The Expanse',
                  rotation: '0'
                },
                {
                  lat: -88.5,
                  lng: 0,
                  size: 1.5,
                  dotradius: 0,
                  color: '#E9ECF5',
                  text: 'Wild Waters',
                  rotation: '0'
                },
                {
                  lat: -40,
                  lng: -20,
                  size: 1.5,
                  dotradius: 0,
                  color: '#E9ECF5',
                  text: 'Coalescent Sea',
                  rotation: '0'
                },
                {
                  lat: -40,
                  lng: 100,
                  size: 1.5,
                  dotradius: 0,
                  color: '#E9ECF5',
                  text: '[sea]',
                  rotation: '0'
                },
                {
                  lat: 4,
                  lng: -16,
                  size: 1,
                  dotradius: 0,
                  color: '#E9ECF5',
                  text: 'Oxrangi Bay',
                  rotation: '0'
                },
                {
                  lat: 50,
                  lng: -15,
                  size: 1.5,
                  dotradius: 0,
                  color: '#E9ECF5',
                  text: 'Pelanoch Sea',
                  rotation: '0'
                },
                {
                  lat: -5,
                  lng: -30,
                  size: 4,
                  dotradius: 0,
                  color: '#000000',
                  text: 'Oxrangi',
                  rotation: '0'
                },
                {
                  lat: 39,
                  lng: -79,
                  size: 5,
                  dotradius: 0,
                  color: '#000000',
                  text: 'Ubera',
                  rotation: '0'
                },
                {
                  lat: -30,
                  lng: -93,
                  size: 5,
                  dotradius: 0,
                  color: '#000000',
                  text: 'g2 + more, need continent name',
                  rotation: '0'
                },
                {
                  lat: -40,
                  lng: 50,
                  size: 2.2,
                  dotradius: 1,
                  color: '#202124',
                  text: 'continent + gith nation',
                  rotation: '0'
                },
                {
                  lat: 35,
                  lng: 75,
                  size: 5,
                  dotradius: 0,
                  color: '#000000',
                  text: 'Aeretis',
                  rotation: '0'
                },
                {
                  lat: -50,
                  lng: 160,
                  size: 1.5,
                  dotradius: 0,
                  color: '#D8D0C1',
                  text: 'Xel-hun',
                  rotation: '0'
                },
                {
                  lat: 85,
                  lng: 50,
                  size: 2,
                  dotradius: 0,
                  color: '#202124',
                  text: 'The Wastes',
                  rotation: '0'
                },
                {
                  lat: 76,
                  lng: 38,
                  size: 0.8,
                  dotradius: 0,
                  color: '#2F3339',
                  text: 'Bulwark Range',
                  rotation: '320'
                },
                 {
                  lat: -16.5,
                  lng: -15,
                  size: 0.8,
                  dotradius: 0,
                  color: '#2F3339',
                  text: '[mountains]',
                  rotation: '-30'
                },
                {
                  lat: 65,
                  lng: -82,
                  size: 0.8,
                  dotradius: 0,
                  color: '#2F3339',
                  text: 'Adamantine Peaks',
                  rotation: '320',
                },
                {
                  lat: 40.5,
                  lng: 81,
                  size: 0.8,
                  dotradius: 0,
                  color: '#2F3339',
                  text: 'Silverpeak Mountains',
                  rotation: '310',
                },
                {
                  lat: 42.2,
                  lng: 14.7,
                  size: 1,
                  dotradius: 0,
                  color: '#202124',
                  text: 'Sanctuary',
                  rotation: '0'
                },
                {
                  lat: 44,
                  lng: -76,
                  size: 2.2,
                  dotradius: 0,
                  color: '#202124',
                  text: 'Kingdom of Ubera',
                  rotation: '0'
                },
                {
                  lat: 44,
                  lng: 40,
                  size: 2.2,
                  dotradius: 0,
                  color: '#202124',
                  text: 'Frontier Federation',
                  rotation: '0'
                },
                 {
                  lat: 9.5,
                  lng: -24,
                  size: 2.2,
                  dotradius: 0,
                  color: '#202124',
                  text: 'Chuasau',
                  rotation: '0'
                },
                {
                  lat: 20,
                  lng: 95,
                  size: 2.2,
                  dotradius: 0,
                  color: '#202124',
                  text: 'Sedulga Empire',
                  rotation: '0'
                },
                {
                  lat: 11,
                  lng: -72,
                  size: 1,
                  dotradius: 0.2,
                  color: '#D8D0C1',
                  text: 'Tarouse',
                  rotation: '0'
                },
                {
                  lat: 28,
                  lng: -72.3,
                  size: 1,
                  dotradius: 0.2,
                  color: '#D8D0C1',
                  text: 'Ryereach',
                  rotation: '0'
                },
                {
                  lat: 46,
                  lng: 50,
                  size: 1,
                  dotradius: 0.2,
                  color: '#D8D0C1',
                  text: 'Crigpob',
                  rotation: '0'
                },
                 {
                  lng: -30,
                  lat: 0,
                  size: 0.8,
                  dotradius: 0,
                  color: '#2F3339',
                  text: 'Taraan Desert',
                  rotation: '0',
                },
              ]
              const Globe = new ThreeGlobe()
                .globeImageUrl('https://raw.githubusercontent.com/mihr-globe/mihr-globe.github.io/refs/heads/main/mihr2.png')
                .showAtmosphere(false)
                .showGraticules(true)	
                .labelsData(locations)
                .labelResolution([5])
                .labelText('text')
                .labelRotation('rotation')
                .labelSize('size')
                .labelDotRadius('dotradius')
                .labelColor('color')
                .labelTypeFace(font.data);

              // Setup renderer
              const renderer = new THREE.WebGLRenderer();
              renderer.setSize(window.innerWidth, window.innerHeight);
              document.getElementById('globeViz').appendChild(renderer.domElement);

              // Setup scene
              const scene = new THREE.Scene();
              scene.add(Globe);
              scene.add(new THREE.AmbientLight(0xbbbbbb));
              scene.add(new THREE.DirectionalLight(0xffffff, 0.6));

              // Setup camera
              const camera = new THREE.PerspectiveCamera();
              camera.aspect = window.innerWidth/window.innerHeight;
              camera.updateProjectionMatrix();
              camera.position.z = 500;

              // Add camera controls
              const controls = new THREE.OrbitControls(camera, renderer.domElement);
              controls.minDistance = 101;
              // tbControls.rotateSpeed = 5;
              // tbControls.zoomSpeed = 0.8;

              // Kick-off renderer
              (function animate() { // IIFE
                // Frame cycle
                controls.update();
                renderer.render(scene, camera);
                requestAnimationFrame(animate);
              })();
          });

      </script>
  </body>
</html>
